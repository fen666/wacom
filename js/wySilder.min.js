!function(i){function e(i,e){this._init(i,e)}e.prototype._init=function(e,t){[].push.apply(this,Array.prototype.slice.apply(e)),this._options={auto:!0,speed:20,sideCtrl:!0,defaultView:0,interval:3e3,activeClass:"active",bottomCtrl:!0};var n=this;i.extend(!0,this._options,t),i(this).each(function(e,t){var s=i(this),l=s.find(".js-silder-ctrl"),a=s.find(".silder-main");s.addClass("js-silder"),0==a.length?(a=i('<div class="silder-scroll"><div class="silder-main"></div></div>').children(".silder-main"),s.append(a),t.silderMain=a):(t.silderMain=a,i(n).length>1?function(i,e){setTimeout(function(){i._calcSilderMainWH(e)},550)}(n,s):n._calcSilderMainWH(s)),0==l.length&&(l=i('<div class="js-silder-ctrl"></div>'),s.append(l)),t.silderCtrl=l,t.index=n._options.defaultView||0,n._options.data&&i.isArray(n._options.data)&&(s.addClass("js-silder"),n._createSilderImg()),t.imgsLen=t.silderMain.children(".silder-main-img").length;var r=s.find(".silder-main-img");r.each(function(e,t){e!=n._options.defaultView&&i(t).css("left",r.eq(0).width())})}),this._createControllBtns(),this._options.auto&&this._autoPlay(),i(this).each(function(i,e){n._setControllBtnClass(e.silderCtrl.find(".silder-ctrl-con").eq(n._options.defaultView))}),i(window).on("resize",function(){n._calcSilderMainWH()})},e.prototype._calcSilderMainWH=function(e,t,n){if(e&&e.length&&e.length>0){var s=e[0].silderMain,l=n||s.children(".silder-main-img").eq(0).find("img").height();console.log(s.children(".silder-main-img").eq(0).find("img").height()),s.height(l)}else i(this).each(function(i,e){var t=e.silderMain,s=n||t.children(".silder-main-img").eq(0).find("img").height();t.height(s)})},e.prototype._createSilderImg=function(){var e=this,t=this._options.data;i(e).each(function(n,s){i(this);var l=this.silderMain;i.each(t,function(t,n){var s=n.alt?n.alt:"";silderMainImg=i('<div class="silder-main-img"></div>'),eleA=null,img=i('<img src="'+n.img+'" alt="'+s+'">'),0==t&&img.on("load",function(t){e._calcSilderMainWH(i(this).width(),i(this).height())}),n.link?(eleA=i('<a href="'+n.link+'"></a>'),silderMainImg.append(eleA.append(img))):silderMainImg.append(img),l.append(silderMainImg)})})},e.prototype._createControllBtns=function(){var e=this;i(e).each(function(t,n){i(this);var s=this.silderMain,l=this.silderCtrl,a=s.children(".silder-main-img").length,r=0,d="";if(e._options.sideCtrl&&(d+='<span class="silder-ctrl-prev"><span><</span></span>'),e._options.bottomCtrl)for(;r<a;r++)d+='<span class="silder-ctrl-con"><span>'+(r+1)+"</span></span>";e._options.sideCtrl&&(d+='<span class="silder-ctrl-next"><span>></span></span>'),l.append(i(d))}),this._ctrlBtnBindEvents()},e.prototype._ctrlBtnBindEvents=function(){var t=this;i(t).each(function(n,s){this.silderCtrl.children().on("click",function(){var n=i(s).width(),l=s.silderMain.children(".silder-main-img");if(i(this).hasClass("silder-ctrl-next"))t._play(i(s));else if(i(this).hasClass("silder-ctrl-prev"))e.animate(l[s.index],{left:n},null,t._options.speed),s.index-=1,s.index<0&&(s.index=s.imgsLen-1),l[s.index].style.left=-n+"px",e.animate(l[s.index],{left:0},null,t._options.speed),t._setControllBtnClass(i(this).parent().find(".silder-ctrl-con").eq(s.index));else{var a=1*i(this).children("span").html()-1;a>s.index?(e.animate(l[s.index],{left:-n},null,t._options.speed),l[a].style.left=n+"px"):a<s.index&&(e.animate(l[s.index],{left:n},null,t._options.speed),l[a].style.left=-n+"px"),e.animate(l[a],{left:0}),t._setControllBtnClass(i(this)),s.index=a}})})},e.prototype._play=function(i){var t=i[0],n=(t.imgsLen,i.width()),s=t.silderMain.children(".silder-main-img");e.animate(s.eq(t.index)[0],{left:-n},null,this._options.speed),t.index+=1,t.index>t.imgsLen-1&&(t.index=0),s.eq(t.index)[0].style.left=n+"px",e.animate(s.eq(t.index)[0],{left:0},null,this._options.speed),this._setControllBtnClass(t.silderCtrl.find(".silder-ctrl-con").eq(t.index))},e.prototype._autoPlay=function(){var e=this,t=i(e),n=isNaN(1*e.interval)?3e3:e.interval;e._options.auto&&t.each(function(t,s){clearInterval(this.timer);var l=i(this);this.timer=setInterval(function(){e._play(l)},n),l.hover(function(){clearInterval(this.timer)},function(){clearInterval(this.timer),this.timer=setInterval(function(){e._play(l)},n)})})},e.prototype._setControllBtnClass=function(i){var e="string"!=typeof this._options.activeClass?"active":this._options.activeClass;i.addClass(e).siblings(".silder-ctrl-con").removeClass(e)},e.animate=function(e,t,n,s){clearInterval(e.timer),e.timer=setInterval(function(){var s=!0;for(var l in t){var a=parseInt(i(e).css(l)),r=(parseInt(t[l])-a)/10;r=r>0?Math.ceil(r):Math.floor(r),a!=t[l]&&(s=!1),"zIndex"==l?e.style.zIndex=t[l]:e.style[l]=a+r+"px"}s&&(clearInterval(e.timer),n&&n.call(window))},s||20)},i.silder=function(t,n){return t=i(t),new e(t,n),t},i.fn.silder=function(i){return console.log(new e(this,i)),this}}(jQuery);